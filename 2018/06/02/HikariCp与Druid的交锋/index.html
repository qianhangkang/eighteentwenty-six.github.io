<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="çœ‹åˆ°GitHubä¸Šä¸€ä¸ªissueï¼Œå…³äºHikariCPä¸Druidçš„æ€§èƒ½ï¼Œæ­¤é—´å¼•å‡ºäº†ä¸¤ä½å¤§ä½¬å’Œä¼—å¤šç½‘å‹çš„å£æ°´æˆ˜ã€‚ ä½™ä»¥ä¸ºç”šæ˜¯æœ‰è¶£ï¼Œç‰¹æ­¤ç¿»è¯‘è®°å½•ã€‚">
<meta name="keywords" content="é—²è°ˆ,æ•°æ®åº“">
<meta property="og:type" content="article">
<meta property="og:title" content="HikariCPä¸Druidçš„äº¤é”‹">
<meta property="og:url" content="https:&#x2F;&#x2F;cnhkblog.top&#x2F;2018&#x2F;06&#x2F;02&#x2F;HikariCp%E4%B8%8EDruid%E7%9A%84%E4%BA%A4%E9%94%8B&#x2F;index.html">
<meta property="og:site_name" content="èæ°´ç›¸é€¢ äº’é“å®‰å¥½">
<meta property="og:description" content="çœ‹åˆ°GitHubä¸Šä¸€ä¸ªissueï¼Œå…³äºHikariCPä¸Druidçš„æ€§èƒ½ï¼Œæ­¤é—´å¼•å‡ºäº†ä¸¤ä½å¤§ä½¬å’Œä¼—å¤šç½‘å‹çš„å£æ°´æˆ˜ã€‚ ä½™ä»¥ä¸ºç”šæ˜¯æœ‰è¶£ï¼Œç‰¹æ­¤ç¿»è¯‘è®°å½•ã€‚">
<meta property="og:locale" content="en">
<meta property="og:image" content="https:&#x2F;&#x2F;i.loli.net&#x2F;2018&#x2F;06&#x2F;02&#x2F;5b1252d8e626a.jpg">
<meta property="og:updated_time" content="2019-11-02T07:29:50.504Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https:&#x2F;&#x2F;i.loli.net&#x2F;2018&#x2F;06&#x2F;02&#x2F;5b1252d8e626a.jpg">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
          
        
    
    <!-- title -->
    <title>HikariCPä¸Druidçš„äº¤é”‹</title>
    <!-- styles -->
    <link rel="stylesheet" href="/css/style.css">
    <!-- persian styles -->
    
      <link rel="stylesheet" href="/css/rtl.css">
    
    <!-- rss -->
    
    
</head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" href="/2018/06/06/%E7%BF%BB%E8%AF%91%EF%BC%9A%E5%AD%97%E6%AE%B5%E6%B3%A8%E5%85%A5%E8%A2%AB%E8%AE%A4%E4%B8%BA%E6%98%AF%E6%9C%89%E5%AE%B3%E7%9A%84/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" href="/2018/06/02/%E8%BD%AC%E8%BD%BD%EF%BC%9A%E4%B8%80%E5%8F%A5%E2%80%98%E5%9C%A8%E5%90%97%E2%80%99%E9%80%BC%E6%AD%BB%E4%BA%BA/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://cnhkblog.top/2018/06/02/HikariCp%E4%B8%8EDruid%E7%9A%84%E4%BA%A4%E9%94%8B/" target="_blank" rel="noopener"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://cnhkblog.top/2018/06/02/HikariCp%E4%B8%8EDruid%E7%9A%84%E4%BA%A4%E9%94%8B/&text=HikariCPä¸Druidçš„äº¤é”‹" target="_blank" rel="noopener"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://cnhkblog.top/2018/06/02/HikariCp%E4%B8%8EDruid%E7%9A%84%E4%BA%A4%E9%94%8B/&title=HikariCPä¸Druidçš„äº¤é”‹" target="_blank" rel="noopener"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://cnhkblog.top/2018/06/02/HikariCp%E4%B8%8EDruid%E7%9A%84%E4%BA%A4%E9%94%8B/&is_video=false&description=HikariCPä¸Druidçš„äº¤é”‹" target="_blank" rel="noopener"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=HikariCPä¸Druidçš„äº¤é”‹&body=Check out this article: https://cnhkblog.top/2018/06/02/HikariCp%E4%B8%8EDruid%E7%9A%84%E4%BA%A4%E9%94%8B/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://cnhkblog.top/2018/06/02/HikariCp%E4%B8%8EDruid%E7%9A%84%E4%BA%A4%E9%94%8B/&title=HikariCPä¸Druidçš„äº¤é”‹" target="_blank" rel="noopener"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://cnhkblog.top/2018/06/02/HikariCp%E4%B8%8EDruid%E7%9A%84%E4%BA%A4%E9%94%8B/&title=HikariCPä¸Druidçš„äº¤é”‹" target="_blank" rel="noopener"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://cnhkblog.top/2018/06/02/HikariCp%E4%B8%8EDruid%E7%9A%84%E4%BA%A4%E9%94%8B/&title=HikariCPä¸Druidçš„äº¤é”‹" target="_blank" rel="noopener"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://cnhkblog.top/2018/06/02/HikariCp%E4%B8%8EDruid%E7%9A%84%E4%BA%A4%E9%94%8B/&title=HikariCPä¸Druidçš„äº¤é”‹" target="_blank" rel="noopener"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://cnhkblog.top/2018/06/02/HikariCp%E4%B8%8EDruid%E7%9A%84%E4%BA%A4%E9%94%8B/&name=HikariCPä¸Druidçš„äº¤é”‹&description=&lt;p&gt;çœ‹åˆ°GitHubä¸Šä¸€ä¸ªissueï¼Œå…³äºHikariCPä¸Druidçš„æ€§èƒ½ï¼Œæ­¤é—´å¼•å‡ºäº†ä¸¤ä½å¤§ä½¬å’Œä¼—å¤šç½‘å‹çš„å£æ°´æˆ˜ã€‚&lt;/p&gt;
&lt;p&gt;ä½™ä»¥ä¸ºç”šæ˜¯æœ‰è¶£ï¼Œç‰¹æ­¤ç¿»è¯‘è®°å½•ã€‚&lt;/p&gt;"><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#å…ˆä»‹ç»ä¸‹ä¸¤ä½"><span class="toc-number">1.</span> <span class="toc-text">å…ˆä»‹ç»ä¸‹ä¸¤ä½</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Druid"><span class="toc-number">1.1.</span> <span class="toc-text">Druid</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HikariCP"><span class="toc-number">1.2.</span> <span class="toc-text">HikariCP</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ä¸€ä½å°åº¦å°å“¥å¼•èµ·çš„å£æ°´æˆ˜"><span class="toc-number">2.</span> <span class="toc-text">ä¸€ä½å°åº¦å°å“¥å¼•èµ·çš„å£æ°´æˆ˜</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ç»¼åˆç½‘ä¸Šçš„èµ„æ–™æ€»ç»“ä¸‹"><span class="toc-number">3.</span> <span class="toc-text">ç»¼åˆç½‘ä¸Šçš„èµ„æ–™æ€»ç»“ä¸‹</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Druidåå¤§æ•°æ®"><span class="toc-number">3.1.</span> <span class="toc-text">Druidåå¤§æ•°æ®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HikariCPåä¼˜åŒ–"><span class="toc-number">3.2.</span> <span class="toc-text">HikariCPåä¼˜åŒ–</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#å‚è€ƒé“¾æ¥"><span class="toc-number">4.</span> <span class="toc-text">å‚è€ƒé“¾æ¥</span></a></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        HikariCPä¸Druidçš„äº¤é”‹
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">èæ°´ç›¸é€¢ äº’é“å®‰å¥½</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2018-06-02T07:22:26.000Z" itemprop="datePublished">2018-06-02</time>
        
      
    </div>


      

      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag">æ•°æ®åº“</a>, <a class="tag-link" href="/tags/%E9%97%B2%E8%B0%88/" rel="tag">é—²è°ˆ</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <p>çœ‹åˆ°GitHubä¸Šä¸€ä¸ªissueï¼Œå…³äºHikariCPä¸Druidçš„æ€§èƒ½ï¼Œæ­¤é—´å¼•å‡ºäº†ä¸¤ä½å¤§ä½¬å’Œä¼—å¤šç½‘å‹çš„å£æ°´æˆ˜ã€‚</p>
<p>ä½™ä»¥ä¸ºç”šæ˜¯æœ‰è¶£ï¼Œç‰¹æ­¤ç¿»è¯‘è®°å½•ã€‚</p>
<a id="more"></a>

<p><img src="https://i.loli.net/2018/06/02/5b1252d8e626a.jpg" alt="roit"></p>
<h1 id="å…ˆä»‹ç»ä¸‹ä¸¤ä½"><a href="#å…ˆä»‹ç»ä¸‹ä¸¤ä½" class="headerlink" title="å…ˆä»‹ç»ä¸‹ä¸¤ä½"></a>å…ˆä»‹ç»ä¸‹ä¸¤ä½</h1><h2 id="Druid"><a href="#Druid" class="headerlink" title="Druid"></a>Druid</h2><blockquote>
<p>Druidæ˜¯Javaè¯­è¨€ä¸­æœ€å¥½çš„æ•°æ®åº“è¿æ¥æ± ã€‚Druidèƒ½å¤Ÿæä¾›å¼ºå¤§çš„ç›‘æ§å’Œæ‰©å±•åŠŸèƒ½ã€‚</p>
</blockquote>
<h2 id="HikariCP"><a href="#HikariCP" class="headerlink" title="HikariCP"></a>HikariCP</h2><blockquote>
<p>Fast, simple, reliable. HikariCP is a â€œzero-overheadâ€ production ready JDBC connection pool. At roughly 130Kb, the library is very light. </p>
</blockquote>
<p>æé€Ÿã€æç®€ã€å¯é ã€‚HikariCPæ˜¯ä¸€ä¸ªâ€œé›¶å¼€é”€â€çš„æ•°æ®åº“è¿æ¥æ± ã€‚å¤§çº¦130kbï¼Œè¿™ä¸ªåº“éå¸¸è½»é‡ã€‚</p>
<h1 id="ä¸€ä½å°åº¦å°å“¥å¼•èµ·çš„å£æ°´æˆ˜"><a href="#ä¸€ä½å°åº¦å°å“¥å¼•èµ·çš„å£æ°´æˆ˜" class="headerlink" title="ä¸€ä½å°åº¦å°å“¥å¼•èµ·çš„å£æ°´æˆ˜"></a>ä¸€ä½å°åº¦å°å“¥å¼•èµ·çš„å£æ°´æˆ˜</h1><p>PSï¼šä¸€ä¸‹ç¿»è¯‘å‡ ä¹æ¥è‡ªè°·æ­Œï¼Œæˆ‘åªæ˜¯æ¶¦è‰²äº†ä¸‹ã€‚ã€‚ã€‚ä¹‹å‰ç¿»è¯‘çš„å…¨ä¸¢äº†ï¼ŒTMD :(</p>
<p>é¦–å…ˆï¼Œä¸€ä½å°åº¦å°å“¥åœ¨HikariCPçš„issueä¸Šæäº†ä¸€ä¸ªé—®é¢˜</p>
<blockquote>
<p>Hi, I find your analysis on Java DB pools very informative. I happen to come across this â€˜druidâ€™ pool from Alibaba: <a href="https://github.com/alibaba/druid/wiki/FAQ" target="_blank" rel="noopener">https://github.com/alibaba/druid/wiki/FAQ</a> (claims as the fastest DB pool in Java!).</p>
<p>From my very quick glance, seems it has some cool features. Any thoughts on this. Thanks.</p>
</blockquote>
<p>å—¨ï¼Œæˆ‘å‘ç°ä½ å¯¹Java DBæ± çš„åˆ†æéå¸¸ä¸°å¯Œã€‚ æˆ‘ç¢°å·§å‘ç°äº†ä¸€ä¸ªæ¥è‡ªé˜¿é‡Œå·´å·´çš„è¿æ¥æ± Druidï¼ˆå£°ç§°æ˜¯Javaä¸­é€Ÿåº¦æœ€å¿«çš„æ•°æ®åº“æ± ï¼‰ã€‚ä»æˆ‘çš„å¿«é€Ÿæµè§ˆï¼Œä¼¼ä¹å®ƒæœ‰ä¸€äº›å¾ˆé…·çš„åŠŸèƒ½ã€‚ ä½ å¯¹æ­¤æœ‰ä»€ä¹ˆæƒ³æ³•ï¼Œè¯·åˆ†äº«ä¸‹ï¼Œè°¢è°¢ã€‚</p>
<p>HikariCPä½œè€…<strong>brettwooldridge</strong>å›ç­”äº†è¿™ä½å°åº¦å°å“¥çš„é—®é¢˜</p>
<blockquote>
<p>A quick run of the benchmark on my desktop PC yielded the following:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Benchmark                                 (pool)   Mode  Samples       Score  Units</span><br><span class="line">c.z.h.b.ConnectionBench.cycleCnnection    hikari  thrpt       16   21206.330  ops/ms</span><br><span class="line">c.z.h.b.ConnectionBench.cycleCnnection    bone    thrpt       16   10389.139  ops/ms</span><br><span class="line">c.z.h.b.ConnectionBench.cycleCnnection    vibur   thrpt       16    6764.233  ops/ms</span><br><span class="line">c.z.h.b.ConnectionBench.cycleCnnection    tomcat  thrpt       16    2117.792  ops/ms</span><br><span class="line">c.z.h.b.ConnectionBench.cycleCnnection    c3p0    thrpt       16     128.447  ops/ms</span><br><span class="line">c.z.h.b.ConnectionBench.cycleCnnection    druid   thrpt       16     110.370  ops/ms</span><br><span class="line"></span><br><span class="line">c.z.h.b.StatementBench.cycleStatement     hikari  thrpt       16  130426.003  ops/ms</span><br><span class="line">c.z.h.b.StatementBench.cycleStatement     tomcat  thrpt       16   62071.180  ops/ms</span><br><span class="line">c.z.h.b.StatementBench.cycleStatement     druid   thrpt       16   54845.335  ops/ms</span><br><span class="line">c.z.h.b.StatementBench.cycleStatement     vibur   thrpt       16   33414.774  ops/ms</span><br><span class="line">c.z.h.b.StatementBench.cycleStatement     bone    thrpt       16   26551.919  ops/ms</span><br><span class="line">c.z.h.b.StatementBench.cycleStatement     c3p0    thrpt       16   15956.412  ops/ms</span><br></pre></td></tr></table></figure>

<p>So, at least in our benchmark, Druid was the <em>slowest</em> for obtaining and returning connections, and the third fastest for creating and closing statements.Druid was configured with similar settings to other pools in the benchmark:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">druid.setInitialSize(0);</span><br><span class="line">druid.setMinIdle(0);</span><br><span class="line">druid.setMaxActive(32);</span><br><span class="line">druid.setMaxWait(5000);</span><br><span class="line">druid.setValidationQuery(&quot;SELECT 1&quot;);</span><br><span class="line">druid.setTestOnBorrow(true);</span><br><span class="line">druid.setDefaultAutoCommit(false);</span><br><span class="line">druid.setDefaultTransactionIsolation(Connection.TRANSACTION_READ_COMMITTED);</span><br></pre></td></tr></table></figure>

<p>The benchmark page in their wiki does not show what settings they ran with, but I suspect that they disabled test-on-borrow. While I wonâ€™t say that is â€œcheatingâ€, it is not how I would run a production pool. They also do not provide the source code to their test, as far as I can tell.</p>
</blockquote>
<p>ä½œè€…ç»™å‡ºäº†ä¸€ä¸ªæµ‹è¯•æ•°æ®ï¼Œè¯´æ˜äº†Druidåœ¨è·å¾—å’Œå½’è¿˜è¿æ¥ä¸Šçš„é€Ÿåº¦æœ€æ…¢ï¼Œåˆ›å»ºå’Œå…³é—­statementsçš„é€Ÿåº¦ç¬¬ä¸‰ã€‚åŒæ—¶è¿˜è¯´ï¼Œä»–ä»¬wikiä¸­çš„é¡µé¢æ²¡æœ‰æ˜¾ç¤ºä»–ä»¬è¿è¡Œçš„è®¾ç½®ï¼Œä½†æˆ‘æ€€ç–‘ä»–ä»¬ç¦ç”¨äº†å€Ÿç”¨æµ‹è¯•ã€‚ è™½ç„¶æˆ‘ä¸ä¼šè¯´è¿™æ˜¯â€œä½œå¼Šâ€ï¼Œä½†æˆ‘ä¸ä¼šè¿è¡Œç”Ÿäº§æ± ã€‚ æ®æˆ‘æ‰€çŸ¥ï¼Œä»–ä»¬ä¹Ÿæ²¡æœ‰æä¾›æºä»£ç ç»™ä»–ä»¬çš„æµ‹è¯•ã€‚</p>
<p><strong>bobwenx</strong>ç½‘å‹æ¥ç€å›å¤äº†</p>
<blockquote>
<p>druid was designed to focus on monitor and data access behavior enhance(like automatically database slice). it provides an SQL parser to analyze userâ€™s SQL query and delegate most JDBC class to collect metrics. so if what you need is a JDBC monitor solution like newrelic, you may try Druid.</p>
</blockquote>
<p>Druidçš„ç›®çš„æ˜¯ä¸“æ³¨äºç›‘æ§å’Œæ•°æ®è®¿é—®è¡Œä¸ºçš„å¢å¼ºï¼ˆå¦‚è‡ªåŠ¨æ•°æ®åº“åˆ‡ç‰‡ï¼‰ã€‚ å®ƒæä¾›äº†ä¸€ä¸ªSQLåˆ†æå™¨æ¥åˆ†æç”¨æˆ·çš„SQLæŸ¥è¯¢å¹¶å§”æ´¾å¤§å¤šæ•°JDBCç±»æ¥æ”¶é›†åº¦é‡æ ‡å‡†ã€‚<br>æ‰€ä»¥å¦‚æœä½ éœ€è¦çš„æ˜¯åƒnewrelicè¿™æ ·çš„JDBCç›‘è§†å™¨è§£å†³æ–¹æ¡ˆï¼Œä½ å¯ä»¥è¯•è¯•Druidã€‚</p>
<p>ä½œè€…<strong>brettwooldridge</strong>å›å¤è¿™ä½ç½‘å‹</p>
<blockquote>
<p><a href="https://github.com/bobwenx" target="_blank" rel="noopener">@bobwenx</a> It is a valid point. I will point out that New Relic is also supported by HikariCP through the <a href="https://github.com/brettwooldridge/HikariCP/wiki/Codahale-Metrics" target="_blank" rel="noopener">DropWizard Metrics integration</a>, but the metrics provided are â€œpool-levelâ€ metrics and not specific to query execution time, etc.</p>
</blockquote>
<p>è¿™æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„è§‚ç‚¹ã€‚ æˆ‘ä¼šæŒ‡å‡ºnewrelicä¹Ÿå—åˆ°HikariCPé€šè¿‡DropWizardæŒ‡æ ‡é›†æˆçš„æ”¯æŒï¼Œä½†æä¾›çš„åº¦é‡æ ‡å‡†æ˜¯â€œæ± çº§â€åº¦é‡æ ‡å‡†ï¼Œå¹¶ä¸”ä¸é’ˆå¯¹æŸ¥è¯¢æ‰§è¡Œæ—¶é—´ç­‰ã€‚</p>
<p>æ­¤æ—¶å¤©ç©ºä¸€å£°å·¨å“ï¼ŒDruidè´Ÿè´£äººæ¸©å°‘å‡ºæ¥æ‰¾åœºå­äº†</p>
<blockquote>
<p>If you configure maxWait property, druid pool use â€œfair mode ReentrantLockâ€, itâ€™s bad performance.</p>
<p><a href="https://github.com/alibaba/druid/blob/master/src/main/java/com/alibaba/druid/pool/DruidAbstractDataSource.java" target="_blank" rel="noopener">https://github.com/alibaba/druid/blob/master/src/main/java/com/alibaba/druid/pool/DruidAbstractDataSource.java</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMaxWait</span><span class="params">(<span class="keyword">long</span> maxWaitMillis)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">if</span> (maxWaitMillis == <span class="keyword">this</span>.maxWait) &#123;</span><br><span class="line">           <span class="keyword">return</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">if</span> (maxWaitMillis &gt; <span class="number">0</span> &amp;&amp; useUnfairLock == <span class="keyword">null</span> &amp;&amp; !<span class="keyword">this</span>.inited) &#123;</span><br><span class="line">           <span class="keyword">final</span> ReentrantLock lock = <span class="keyword">this</span>.lock;</span><br><span class="line">           lock.lock();</span><br><span class="line">           <span class="keyword">try</span> &#123;</span><br><span class="line">               <span class="keyword">if</span> ((!<span class="keyword">this</span>.inited) &amp;&amp; (!lock.isFair())) &#123;</span><br><span class="line">                   <span class="keyword">this</span>.lock = <span class="keyword">new</span> ReentrantLock(<span class="keyword">true</span>);</span><br><span class="line">                   <span class="keyword">this</span>.notEmpty = <span class="keyword">this</span>.lock.newCondition();</span><br><span class="line">                   <span class="keyword">this</span>.empty = <span class="keyword">this</span>.lock.newCondition();</span><br><span class="line">               &#125;</span><br><span class="line">           &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">               lock.unlock();</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">if</span> (inited) &#123;</span><br><span class="line">           LOG.error(<span class="string">"maxWait changed : "</span> + <span class="keyword">this</span>.maxWait + <span class="string">" -&gt; "</span> + maxWaitMillis);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">this</span>.maxWait = maxWaitMillis;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>This is by design, because we had some problems in the production environment. Here are the relevant <a href="https://github.com/alibaba/druid/wiki/Druid%E9%94%81%E7%9A%84%E5%85%AC%E5%B9%B3%E6%A8%A1%E5%BC%8F%E9%97%AE%E9%A2%98" target="_blank" rel="noopener">documents</a>, but Iâ€™m sorry, it is in Chinese.</p>
<p>Druid of PreparedStatementCache optimized, this is very important to enhance the mysql 5.5 &amp; oracle &amp; sqlserver &amp; db2 performance.</p>
<p>Druid has very stable ExceptionSorter, including Oracle / MySql / Alibaba Oceanbase etc.</p>
<p>In <a href="http://www.forbes.com/sites/jlim/2015/11/10/alibaba-group-sells-5bn-in-first-90-minutes-of-11-11-sale/#3de3850f1449" target="_blank" rel="noopener">Taobao large-scale high concurrency environment</a>, only two connection pools to work very well, <a href="https://github.com/alibaba/druid" target="_blank" rel="noopener">druid</a> and jboss connection pool.</p>
<p>Druid is not just a connection pool, he can do a very good extension, similar to Filter-Chain extension. Built-in Filter include <a href="https://github.com/alibaba/druid/wiki/%E7%AE%80%E4%BB%8B_WallFilter" target="_blank" rel="noopener">WallFilter</a>, <a href="https://github.com/alibaba/druid/wiki/%E9%85%8D%E7%BD%AE_StatFilter" target="_blank" rel="noopener">StatFilter</a>, <a href="https://github.com/alibaba/druid/wiki/%E9%85%8D%E7%BD%AE_LogFilter" target="_blank" rel="noopener">LogFilter</a>. Which can WallFilter defense SQL injection, StatFilter can do performance monitoring, LogFilter can output SQL logs.</p>
<p>Druid built very strong monitoring support.</p>
</blockquote>
<p>ï¼ˆä½ è¯´éƒ½æ˜¯è‡ªå·±äººï¼Œå›ç­”çš„æ—¶å€™å°±ä¸­è‹±åŒè¯­å¹¶ç”¨å‘—ã€‚ã€‚ã€‚ï¼‰</p>
<p>å¤§æ„å°±æ˜¯Druidå¯ç”¨äº†å…¬å¹³é”æ¨¡å¼ï¼Œè¿™ä¼šé™ä½æ€§èƒ½ã€‚</p>
<p>è‡³äºä¸ºä»€ä¹ˆè¿™ä¹ˆåšï¼Œæ˜¯å› ä¸ºä»–ä»¬ä¸ºäº†è§£å†³ä¸€äº›ç”Ÿäº§ä¸Šçš„é—®é¢˜ï¼ŒåŒæ—¶ç»™äº†ä¸€ä¸ª<a href="https://github.com/alibaba/druid/wiki/Druid%E9%94%81%E7%9A%84%E5%85%AC%E5%B9%B3%E6%A8%A1%E5%BC%8F%E9%97%AE%E9%A2%98" target="_blank" rel="noopener">ä¸­æ–‡æ–‡æ¡£</a>ã€‚</p>
<p>Druidå¯¹PreparedStatementCacheè¿›è¡Œäº†ä¼˜åŒ–ï¼Œè¿™å¯¹äºå¢å¼ºmysql 5.5ï¼†oracleï¼†sqlserverï¼†db2æ€§èƒ½éå¸¸é‡è¦ã€‚</p>
<p>Druidæ‹¥æœ‰éå¸¸ç¨³å®šçš„ExceptionSorterï¼ŒåŒ…æ‹¬Oracle / MySql /é˜¿é‡Œå·´å·´Oceanbaseç­‰ã€‚</p>
<p>åœ¨æ·˜å®å¤§å‹é«˜å¹¶å‘ç¯å¢ƒä¸‹ï¼Œåªæœ‰ä¸¤ä¸ªè¿æ¥æ± å·¥ä½œå¾—å¾ˆå¥½ï¼Œdruidå’Œjbossè¿æ¥æ± ã€‚</p>
<p>Druidä¸ä»…ä»…æ˜¯ä¸€ä¸ªè¿æ¥æ± ï¼Œä»–å¯ä»¥åšä¸€ä¸ªå¾ˆå¥½çš„æ‰©å±•ï¼Œç±»ä¼¼äºFilter-Chainæ‰©å±•ã€‚ å†…ç½®è¿‡æ»¤å™¨åŒ…æ‹¬WallFilterï¼ŒStatFilterï¼ŒLogFilterã€‚ å…¶ä¸­WallFilterå¯ä»¥é˜²å¾¡SQLæ³¨å…¥ï¼ŒStatFilterå¯ä»¥åšæ€§èƒ½ç›‘è§†ï¼ŒLogFilterå¯ä»¥è¾“å‡ºSQLæ—¥å¿—ã€‚</p>
<p>Druidå»ºç«‹äº†éå¸¸å¼ºå¤§çš„ç›‘æ§æ”¯æŒã€‚</p>
<p><strong>hrchu</strong>ç½‘å‹æŒ‡å‡ºäº†æé—®è€…çš„ä¸€ä¸ªå°é”™è¯¯</p>
<blockquote>
<p>Hmmm I only see it claims as â€œthe bestâ€ DB pool in Java, instead of the fastâ€¦ ğŸ˜•</p>
<p>Anyway I am glad to see more positive comparisons between HikariCP and Druidâ€¦</p>
</blockquote>
<p>æé—®è€…åœ¨ä¿®é¥°Druidä¸Šä½¿ç”¨äº†â€œthe fastestâ€ï¼Œå®é™…ä¸ŠDruidçš„wikiä¸Šç”¨çš„æ˜¯â€œthe bestâ€ã€‚åŒæ—¶è¿™ä½ç½‘å‹å¾ˆä¹æ„çœ‹åˆ°å¤§å®¶å¯¹äºä¸¤è€…ä¹‹é—´æ›´å¤šç§¯æçš„è®¨è®º</p>
<p>çœç•¥ä¸€äº›æ— æ„ä¹‰çš„è®¨è®ºâ€¦</p>
<p>ä¸€ä½ä¸­å›½ç½‘å‹è¯´</p>
<blockquote>
<p>druidæœ‰é˜¿é‡Œå¤§æ•°æ®é‡çš„éªŒè¯ï¼Œè€ŒHikariCPæ²¡æœ‰</p>
</blockquote>
<p>ä½œè€…<strong>brettwooldridge</strong>å›å¤ä¸­å›½ç½‘å‹</p>
<blockquote>
<p>HikariCP is one of the most widely used connection pools in the world, used by some of the largest companies, serving literally billions of users per day. Druid is rarely seen outside of China.</p>
</blockquote>
<p>HikariCPæ˜¯ä¸–ç•Œä¸Šä½¿ç”¨æœ€å¹¿æ³›çš„è¿æ¥æ± ä¹‹ä¸€ï¼Œç”±ä¸€äº›æœ€å¤§çš„å…¬å¸ä½¿ç”¨ï¼Œæ¯å¤©ä¸ºæ•°åäº¿ç”¨æˆ·æä¾›æœåŠ¡ã€‚ Druidåœ¨ä¸­å›½ä»¥å¤–å¾ˆå°‘è§åˆ°ã€‚</p>
<p>ç´§æ¥ç€è¿™ä½ä¸­å›½ç½‘å‹å¯¹ä½œè€…å›å¤çš„â€œæœ€å¤§çš„å…¬å¸â€ã€â€œæ¯å¤©ä¸ºæ•°åäº¿ç”¨æˆ·æœåŠ¡â€è¡¨ç¤ºæ€€ç–‘ï¼Œå¸Œæœ›ä½œè€…èƒ½ç»™å‡ºä¾‹å­</p>
<p>ä½œè€…<strong>brettwooldridge</strong>å†æ¬¡å›å¤ä¸­å›½ç½‘å‹</p>
<blockquote>
<p>Wix.com by itself, for example hosts over 109 million websites and serves over 1 Billion requests per day. Atlassian has millions of customers for its products â€“ no published numbers exists for daily usage.</p>
<p>HikariCP is the default pool for every application built with the Play framework, Slick, JOOS, and is now the default pool for Spring Boot.</p>
<p>HikariCP is resolved from the central maven repository over 300,000 times per month.</p>
<p><a href="https://github.com/brettwooldridge/HikariCP/blob/dev/documents/Wall-of-Fame.md" target="_blank" rel="noopener">Companies known to be using HikariCP</a>.</p>
</blockquote>
<p>æ„æ€å°±æ˜¯æˆ‘çš„ä¸œè¥¿å°±æ˜¯è¿™ä¹ˆç‰›13ï¼Œä½ è¦çš„ä¾‹å­æˆ‘éƒ½ç»™ä½ äº†</p>
<p>æœ€åï¼Œå¦å¤–ä¸€ä½ä¸­å›½ç½‘å‹åšäº†å¦‚ä¸‹ä¸­è‚¯çš„è¯„ä»·</p>
<blockquote>
<p>æˆ‘è®¤ä¸º2ä¸ªç»„ä»¶ä¸“æ³¨çš„æ–¹å‘ä¸ä¸€æ ·ï¼Œå„æœ‰ç‰¹è‰²å’Œä¼˜ç‚¹ï¼Œä¸æ˜¯ç»„ä»¶å¦‚ä½•ï¼Œè¦çœ‹ä½¿ç”¨ç»„ä»¶çš„äººå¦‚ä½•è€ƒè™‘ï¼Œç»¼åˆè‡ªå·±çš„éœ€æ±‚é€‰ç”¨ï¼Œdruidéå¸¸å¤§ä¸€éƒ¨åˆ†æ˜¯ä¸ºäº†ç›‘æ§å’Œè¿ç»´</p>
</blockquote>
<h1 id="ç»¼åˆç½‘ä¸Šçš„èµ„æ–™æ€»ç»“ä¸‹"><a href="#ç»¼åˆç½‘ä¸Šçš„èµ„æ–™æ€»ç»“ä¸‹" class="headerlink" title="ç»¼åˆç½‘ä¸Šçš„èµ„æ–™æ€»ç»“ä¸‹"></a>ç»¼åˆç½‘ä¸Šçš„èµ„æ–™æ€»ç»“ä¸‹</h1><h2 id="Druidåå¤§æ•°æ®"><a href="#Druidåå¤§æ•°æ®" class="headerlink" title="Druidåå¤§æ•°æ®"></a>Druidåå¤§æ•°æ®</h2><ul>
<li>éœ€è¦äº¤äº’å¼èšåˆå’Œå¿«é€Ÿæ¢ç©¶å¤§é‡æ•°æ®æ—¶ï¼›</li>
<li>éœ€è¦å®æ—¶æŸ¥è¯¢åˆ†ææ—¶ï¼›</li>
<li>å…·æœ‰å¤§é‡æ•°æ®æ—¶ï¼Œå¦‚æ¯å¤©æ•°äº¿äº‹ä»¶çš„æ–°å¢ã€æ¯å¤©æ•°10Tæ•°æ®çš„å¢åŠ ï¼›</li>
<li>å¯¹æ•°æ®å°¤å…¶æ˜¯å¤§æ•°æ®è¿›è¡Œå®æ—¶åˆ†ææ—¶ï¼›</li>
<li>éœ€è¦ä¸€ä¸ªé«˜å¯ç”¨ã€é«˜å®¹é”™ã€é«˜æ€§èƒ½æ•°æ®åº“æ—¶</li>
</ul>
<h2 id="HikariCPåä¼˜åŒ–"><a href="#HikariCPåä¼˜åŒ–" class="headerlink" title="HikariCPåä¼˜åŒ–"></a>HikariCPåä¼˜åŒ–</h2><ul>
<li><strong>å­—èŠ‚ç ç²¾ç®€</strong> ï¼šä¼˜åŒ–ä»£ç ï¼Œç›´åˆ°ç¼–è¯‘åçš„å­—èŠ‚ç æœ€å°‘ï¼Œè¿™æ ·ï¼ŒCPUç¼“å­˜å¯ä»¥åŠ è½½æ›´å¤šçš„ç¨‹åºä»£ç ï¼›</li>
<li><strong>ä¼˜åŒ–ä»£ç†å’Œæ‹¦æˆªå™¨</strong>ï¼šå‡å°‘ä»£ç ï¼Œä¾‹å¦‚HikariCPçš„Statement proxyåªæœ‰100è¡Œä»£ç ï¼Œåªæœ‰BoneCPçš„ååˆ†ä¹‹ä¸€ï¼›</li>
<li><strong>è‡ªå®šä¹‰æ•°ç»„ç±»å‹ï¼ˆFastStatementListï¼‰ä»£æ›¿ArrayList</strong>ï¼šé¿å…æ¯æ¬¡get()è°ƒç”¨éƒ½è¦è¿›è¡Œrange checkï¼Œé¿å…è°ƒç”¨remove()æ—¶çš„ä»å¤´åˆ°å°¾çš„æ‰«æï¼›</li>
<li><strong>è‡ªå®šä¹‰é›†åˆç±»å‹ï¼ˆConcurrentBag</strong>ï¼šæé«˜å¹¶å‘è¯»å†™çš„æ•ˆç‡ï¼›</li>
<li><strong>å…¶ä»–é’ˆå¯¹BoneCPç¼ºé™·çš„ä¼˜åŒ–</strong>ï¼Œæ¯”å¦‚å¯¹äºè€—æ—¶è¶…è¿‡ä¸€ä¸ªCPUæ—¶é—´ç‰‡çš„æ–¹æ³•è°ƒç”¨çš„ç ”ç©¶ï¼ˆä½†æ²¡è¯´å…·ä½“æ€ä¹ˆä¼˜åŒ–ï¼‰ã€‚</li>
</ul>
<p>å®¢å®˜ä½ æ€ä¹ˆçœ‹ã€‚ã€‚ã€‚</p>
<h1 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h1><p><a href="https://github.com/brettwooldridge/HikariCP/issues/232" target="_blank" rel="noopener">https://github.com/brettwooldridge/HikariCP/issues/232</a></p>
<p><a href="http://blog.didispace.com/Springboot-2-0-HikariCP-default-reason/" target="_blank" rel="noopener">http://blog.didispace.com/Springboot-2-0-HikariCP-default-reason/</a></p>
<blockquote>
<p><em>å¤§éƒ¨åˆ†æ­£ä¹‰æ„Ÿéƒ½æ˜¯è™šä¼ªçš„ èŠèƒœäºæ—    â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”æ²ƒå¾·å½­å°¤Â·èƒ¡æŸ</em></p>
</blockquote>

  </div>
</article>

    <div class="blog-post-comments">
        <div id="disqus_thread">
            <noscript>Please enable JavaScript to view the comments.</noscript>
        </div>
    </div>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#å…ˆä»‹ç»ä¸‹ä¸¤ä½"><span class="toc-number">1.</span> <span class="toc-text">å…ˆä»‹ç»ä¸‹ä¸¤ä½</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Druid"><span class="toc-number">1.1.</span> <span class="toc-text">Druid</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HikariCP"><span class="toc-number">1.2.</span> <span class="toc-text">HikariCP</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ä¸€ä½å°åº¦å°å“¥å¼•èµ·çš„å£æ°´æˆ˜"><span class="toc-number">2.</span> <span class="toc-text">ä¸€ä½å°åº¦å°å“¥å¼•èµ·çš„å£æ°´æˆ˜</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ç»¼åˆç½‘ä¸Šçš„èµ„æ–™æ€»ç»“ä¸‹"><span class="toc-number">3.</span> <span class="toc-text">ç»¼åˆç½‘ä¸Šçš„èµ„æ–™æ€»ç»“ä¸‹</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Druidåå¤§æ•°æ®"><span class="toc-number">3.1.</span> <span class="toc-text">Druidåå¤§æ•°æ®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HikariCPåä¼˜åŒ–"><span class="toc-number">3.2.</span> <span class="toc-text">HikariCPåä¼˜åŒ–</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#å‚è€ƒé“¾æ¥"><span class="toc-number">4.</span> <span class="toc-text">å‚è€ƒé“¾æ¥</span></a></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" href="http://www.facebook.com/sharer.php?u=https://cnhkblog.top/2018/06/02/HikariCp%E4%B8%8EDruid%E7%9A%84%E4%BA%A4%E9%94%8B/" target="_blank" rel="noopener"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://twitter.com/share?url=https://cnhkblog.top/2018/06/02/HikariCp%E4%B8%8EDruid%E7%9A%84%E4%BA%A4%E9%94%8B/&text=HikariCPä¸Druidçš„äº¤é”‹" target="_blank" rel="noopener"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.linkedin.com/shareArticle?url=https://cnhkblog.top/2018/06/02/HikariCp%E4%B8%8EDruid%E7%9A%84%E4%BA%A4%E9%94%8B/&title=HikariCPä¸Druidçš„äº¤é”‹" target="_blank" rel="noopener"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https://cnhkblog.top/2018/06/02/HikariCp%E4%B8%8EDruid%E7%9A%84%E4%BA%A4%E9%94%8B/&is_video=false&description=HikariCPä¸Druidçš„äº¤é”‹" target="_blank" rel="noopener"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=HikariCPä¸Druidçš„äº¤é”‹&body=Check out this article: https://cnhkblog.top/2018/06/02/HikariCp%E4%B8%8EDruid%E7%9A%84%E4%BA%A4%E9%94%8B/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="https://getpocket.com/save?url=https://cnhkblog.top/2018/06/02/HikariCp%E4%B8%8EDruid%E7%9A%84%E4%BA%A4%E9%94%8B/&title=HikariCPä¸Druidçš„äº¤é”‹" target="_blank" rel="noopener"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://reddit.com/submit?url=https://cnhkblog.top/2018/06/02/HikariCp%E4%B8%8EDruid%E7%9A%84%E4%BA%A4%E9%94%8B/&title=HikariCPä¸Druidçš„äº¤é”‹" target="_blank" rel="noopener"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.stumbleupon.com/submit?url=https://cnhkblog.top/2018/06/02/HikariCp%E4%B8%8EDruid%E7%9A%84%E4%BA%A4%E9%94%8B/&title=HikariCPä¸Druidçš„äº¤é”‹" target="_blank" rel="noopener"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://digg.com/submit?url=https://cnhkblog.top/2018/06/02/HikariCp%E4%B8%8EDruid%E7%9A%84%E4%BA%A4%E9%94%8B/&title=HikariCPä¸Druidçš„äº¤é”‹" target="_blank" rel="noopener"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="http://www.tumblr.com/share/link?url=https://cnhkblog.top/2018/06/02/HikariCp%E4%B8%8EDruid%E7%9A%84%E4%BA%A4%E9%94%8B/&name=HikariCPä¸Druidçš„äº¤é”‹&description=&lt;p&gt;çœ‹åˆ°GitHubä¸Šä¸€ä¸ªissueï¼Œå…³äºHikariCPä¸Druidçš„æ€§èƒ½ï¼Œæ­¤é—´å¼•å‡ºäº†ä¸¤ä½å¤§ä½¬å’Œä¼—å¤šç½‘å‹çš„å£æ°´æˆ˜ã€‚&lt;/p&gt;
&lt;p&gt;ä½™ä»¥ä¸ºç”šæ˜¯æœ‰è¶£ï¼Œç‰¹æ­¤ç¿»è¯‘è®°å½•ã€‚&lt;/p&gt;"><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2019 qianhangkang
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->
<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
<link rel="stylesheet" href="/lib/justified-gallery/css/justifiedGallery.min.css">

    <!-- jquery -->
<script src="/lib/jquery/jquery.min.js"></script>
<script src="/lib/justified-gallery/js/jquery.justifiedGallery.min.js"></script>
<!-- clipboard -->

  <script src="/lib/clipboard/clipboard.min.js"></script>
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight .code pre").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      target: function(trigger) {
        return trigger.nextElementSibling;
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>

<script src="/js/main.js"></script>
<!-- search -->

<!-- Google Analytics -->

    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-86660611-1', 'auto');
        ga('send', 'pageview');
    </script>

<!-- Baidu Analytics -->

    <script type="text/javascript">
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?2e6da3c375c8a87f5b664cea6d4cb29c";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>

<!-- Disqus Comments -->

    <script type="text/javascript">
        var disqus_shortname = 'qianhangkang';

        (function(){
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        }());
    </script>


</body>
</html>
